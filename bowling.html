<html>
  <head>
    <title> Stuyvesant Boys Bowling! </title>
    <link rel="stylesheet" href="style.css" type="text/css" media="screen" />
    <script>
      //py vars here
      function toggle(name) {
        var scorediv = document.getElementById('scores');
        str = '<div id="scorename">'+name+'</div>';
        for (i=0; i<eval(name+'scores').length; i++){
	  str+= '<table><tr class="index">';
	  for (j=1; j<11; j++){
  	    if (j==10)
	      str+= '<td colspan="3">'+j+'</td>';
   	    else
	      str+= '<td colspan="2">'+j+'</td>';
	  }
	  str+= '</tr><tr class="scoreballs">';
    	  for (j=0; j<eval(name+'scores')[i].length; j++){						
            if (j%2==0 && j<18 && eval(name+'scores')[i][j]==10){
              str+= '<td colspan="2">X</td>';
	      j++;
	    }
	    else if (j%2==1 && j<18 && eval(name+'scores')[i][j-1]+eval(name+'scores')[i][j]==10){
	      str+= '<td>/</td>';
	    }
	    else if (j>17 && eval(name+'scores')[i][j]==10){
	      str+= '<td>X</td>';
	    }
	    else{
	      str+= '<td>'+eval(name+'scores')[i][j]+'</td>';
	    }
	  }
          str+= '</tr><tr class="scoretotals">';
	  for (j=0; j<eval(name+'totals')[i].length; j++){						
            if (j==9)
 	      str+= '<td colspan="3">'+eval(name+'totals')[i][j]+'</td>';
            else
	      str+= '<td colspan="2">'+eval(name+'totals')[i][j]+'</td>';
	  }					     
          str+= '</tr>';	
        }      
        scorediv.innerHTML = str;
        //if (scorediv.style.display === 'block' || scorediv.style.display === '')
        //  scorediv.style.display = 'none';
        //else
        //  scorediv.style.display = 'block';
      }

      function newform() {
        str = 'Name: <select name="player">'
        for (i=0; i<names.length; i++){
    	  str+='<option value="'+names[i]+'">'+names[i]+'</option>'
	}
	str+='</select><br>'				      
        for (i=0; i<21; i++){
          str+='<input type="text" name="ball'+i+'" maxlength="2" size="2" onchange="updateValue('+i+')"/>'
        }
        document.getElementById('insertinputhere').innerHTML+=str+'<br>';
      }
      function updateValue(i){
        v = document.getElementsByName("ball"+i)[0].value;
	if (i<20 && i%2==0){
         
	  if (v=='10' || v=='X' || v=='x'){
       	    document.getElementsByName("ball"+i)[0].value = 10;
	    document.getElementsByName("ball"+(i+1))[0].value = 0;
	  }
	}
	if (v=='/'){
         
	  document.getElementsByName("ball"+i)[0].value = 10 - parseInt(document.getElementsByName("ball"+(i-1))[0].value);
        }	
      }
    </script>
  </head>
  <body>
    <div id="wrapper">
      <table id="roster">
	<tr>
	  <th>Name</th>
	  <th>Total Games</th>
	  <th>Total Pins</th>
	  <th>Average</th>
	</tr>
	<tr>
	  <td>David Yao</td>
	  <td>3</td>
	  <td>321</td>
	  <td>107.00</td>
	</tr>
	<tr>
	  <td>Jonathan Li</td>
	  <td>3</td>
	  <td>361</td>
	  <td>120.33</td>
	</tr>
	<!--td here-->
      </table>
      <br>
      <div id="scores"></div>
      <div id="newgames">
	<form method="post" id="gameform" action="home.py">
	  <div id="insertinputhere"></div>
	  <input type="submit" value="Submit" />
	</form>
      </div>
      <input type="button" value="New Game" onclick="newform()"></input>
    </div>
  </body>
</html>
    
